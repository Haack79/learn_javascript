<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Asynchronous JavaScript</title>
</head>
<body>
    <h1>Asynchronous JavaScript</h1>
    <p>remember synchronous is it doing it in one clean sweet, in order line by line. </p>
    <p>async below ,  first() gets called, runs, does the console.log hey there
        then calls second function , which calls setTimeout(webapi) that waits for the set setTimeout
        it goes on and logs console.log 'the end'; 
        after 2 seconds have passed it will log async in second func hey there; 

        the importance of this is to defer actions to the future to make sure it is non blocking
        we don't want code to get frozen doing a big load function. 
    </p>
    <p> execution stack -> WEbAPIS where settimeout(callbackfunction will wait - > message que and Event Loop
        execution stack will execute one after the other, while a callback function or setTimeout
    </p>
    <p> The below when you are nesting multiple call backs  is callback hell one way around this is 
        to use Promises that keeps it a bit neater. 
    </p>
    <script>
        // emulate getting and loading data from server.
        function getRecipe() {
            // emulate getting data from server here. // doing this way is callback Hell
            setTimeout(() => {
                const recipeID = [1234,23,235325, 2342];
                // because of the third argument passed in below after 1000 
                // id here will be 235325 
                setTimeout((id) => {
                    const recipe = {title: 'frent pasta', publisher: 'ratatouli'}
                    console.log(`${id}: ${recipe.title}`);
                    setTimeout(publisher => {
                        const recipe2 = {title: 'Italian Pizza', publisher: 'henry'};
                        console.log(recipe); 
                    }, 1500, recipe.publisher)
                    // below the recipeID[2] will be passed into as id 
                }, 1500, recipeID[2]); // can pass 3rd argument here to pass into callback
            }, 1500);
        }
        getRecipe();

    </script>
</body>
</html>